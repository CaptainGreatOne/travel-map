---
phase: 02-component-decomposition
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [src/components/AuthPrompt.jsx, src/utils/parseGoogleMapsUrl.js]
autonomous: true
---

<objective>
Extract reusable pieces from SuggestPage: auth prompt component and URL parsing utility.

Purpose: Prepare SuggestPage for refactoring by isolating independent concerns.
Output: Two new files ready to be imported by SuggestPage.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/pages/SuggestPage.jsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extract AuthPrompt component</name>
  <files>src/components/AuthPrompt.jsx</files>
  <action>
    Extract the "Sign In Required" UI from SuggestPage (lines 80-105) into a reusable component.

    Props:
    - icon: Lucide icon component (optional, defaults to User)
    - title: string (defaults to "Sign In Required")
    - message: string (the explanation text)
    - buttonText: string (defaults to "Sign In to Continue")
    - onSignIn: callback when button clicked

    Component structure:
    - Centered container with white background
    - Large icon at top
    - Title heading
    - Message paragraph
    - Sign in button with hover effects

    Also import and render AuthModal internally, managing its open state.
    This makes the component fully self-contained for auth prompts.
  </action>
  <verify>File exists and exports AuthPrompt component</verify>
  <done>AuthPrompt component created as reusable auth gate UI</done>
</task>

<task type="auto">
  <name>Task 2: Extract parseGoogleMapsUrl utility</name>
  <files>src/utils/parseGoogleMapsUrl.js</files>
  <action>
    Extract the URL parsing logic from SuggestPage (lines 20-33) into a utility function.

    Function signature:
    ```js
    /**
     * Extracts location name from a Google Maps URL.
     * Supports formats like:
     * - https://maps.app.goo.gl/abc123
     * - https://www.google.com/maps/place/Location+Name/...
     *
     * @param {string} url - The Google Maps URL
     * @returns {string|null} - Extracted location name or null if not found
     */
    export function parseGoogleMapsUrl(url) {
      // ... parsing logic
    }
    ```

    Logic:
    1. Try to match /place/([^/]+)/ pattern
    2. If matched, decode URI component and replace + with spaces
    3. Return decoded name or null if no match
    4. Wrap in try/catch, return null on error

    This is a pure function with no side effects (doesn't set state).
  </action>
  <verify>File exists and exports parseGoogleMapsUrl function</verify>
  <done>URL parsing utility created as pure function</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] src/components/AuthPrompt.jsx exists and exports component
- [ ] src/utils/parseGoogleMapsUrl.js exists and exports function
- [ ] No syntax errors in new files
</verification>

<success_criteria>
- Both extraction files created
- Each file is self-contained and importable
- Original SuggestPage still works (not modified yet)
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-decomposition/02-02-SUMMARY.md`
</output>
