---
phase: 02-component-decomposition
plan: 05
type: execute
wave: 3
depends_on: ["02-03", "02-04"]
files_modified: []
autonomous: false
---

<objective>
Verify all components are under 150 lines and functionality works correctly.

Purpose: Human verification that decomposition achieved goals without breaking features.
Output: Confirmed component sizes and working application.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
@./.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@.planning/phases/02-component-decomposition/02-03-SUMMARY.md
@.planning/phases/02-component-decomposition/02-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Generate component size report</name>
  <files>none (read-only)</files>
  <action>
    Run line count on all components and pages:

    ```bash
    wc -l src/pages/*.jsx src/components/*.jsx src/hooks/*.js src/utils/*.js 2>/dev/null | sort -rn
    ```

    Create a formatted report showing:
    - Files over 150 lines (FAIL)
    - Files 100-150 lines (WARNING - near limit)
    - Files under 100 lines (PASS)

    Highlight any files that still need decomposition.
  </action>
  <verify>Report generated showing all file sizes</verify>
  <done>Component size report created</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Component decomposition complete - MapPage and SuggestPage refactored to use extracted modules</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Open browser to http://localhost:5173

    **Test Map Page:**
    3. Verify map loads with markers
    4. Click a marker - popup should show location details
    5. If logged in, click "Remind Me to Visit" - form should appear
    6. Change filter settings (status, category, map style)
    7. Verify legend updates correctly

    **Test Suggest Page:**
    8. Navigate to Suggest Location
    9. If logged out, verify auth prompt appears
    10. Sign in, verify form appears
    11. Paste a Google Maps URL, verify location name auto-fills
    12. Submit a suggestion, verify success message

    **Test Navigation:**
    13. Navigate between all pages
    14. Verify sidebar works on mobile (toggle)
    15. Verify no console errors
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All component files under 150 lines
- [ ] Map page fully functional
- [ ] Suggest page fully functional
- [ ] No console errors
- [ ] Human verification passed
</verification>

<success_criteria>
- Component size target achieved (all under 150 lines)
- All features work correctly
- User approved
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-decomposition/02-05-SUMMARY.md`
</output>
