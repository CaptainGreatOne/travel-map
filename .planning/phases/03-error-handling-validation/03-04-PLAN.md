---
phase: 03-error-handling-validation
plan: 04
type: execute
wave: 2
depends_on: ["03-01", "03-02", "03-03"]
files_modified: []
autonomous: false
---

<objective>
Verify all error handling and validation works correctly.

Purpose: Confirm error boundaries catch errors, loading states display properly, and form validation provides helpful feedback.
Output: Verified working error handling and validation system.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
@./.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-error-handling-validation/03-CONTEXT.md
@.planning/phases/03-error-handling-validation/03-01-SUMMARY.md
@.planning/phases/03-error-handling-validation/03-02-SUMMARY.md
@.planning/phases/03-error-handling-validation/03-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run build and verify no errors</name>
  <files></files>
  <action>
Run the build to verify all code compiles correctly:

```bash
npm run build
```

Check that:
- Build completes successfully
- No TypeScript/ESLint errors
- No missing imports or exports
  </action>
  <verify>npm run build exits with code 0</verify>
  <done>Build passes with no errors</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete error handling and validation system including error boundaries, loading states, and form validation</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Visit: http://localhost:5173

    **Test Loading State:**
    3. Hard refresh the page (Ctrl+Shift+R)
    4. Observe: Brief "Loading..." should appear before app renders

    **Test Form Validation (Suggest page):**
    5. Navigate to /suggest
    6. If not logged in, sign in first
    7. Leave "Location Name" empty, click Submit
    8. Verify: Error message "Location name is required" appears
    9. Leave "Why should I visit?" empty, click Submit
    10. Verify: Error message "Reason is required" appears

    **Test Auth Validation:**
    11. Sign out (if signed in)
    12. Click to open sign in modal
    13. Enter invalid email (e.g., "notanemail"), click Sign In
    14. Verify: Error message about invalid email appears
    15. Enter valid email but short password (e.g., "abc"), click Sign Up
    16. Verify: Error message about password length appears

    **Test Map Loads:**
    17. Navigate to / (home/map page)
    18. Verify: Map loads and displays markers normally
    19. Verify: No error boundary fallback shown (map works fine)

    **Confirm:**
    - Loading state shows briefly on initial load
    - Form validation catches errors BEFORE API calls
    - Error messages are matter-of-fact and helpful
    - Map still works normally
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Build succeeds
- [ ] Human verification checkpoint passed
- [ ] All error handling behaves as expected
</verification>

<success_criteria>

- All tasks completed
- Build passes
- Human verified:
  - Loading state displays
  - Form validation works
  - Map functions normally
  - Error messages are helpful
</success_criteria>

<output>
After completion, create `.planning/phases/03-error-handling-validation/03-04-SUMMARY.md`
</output>
