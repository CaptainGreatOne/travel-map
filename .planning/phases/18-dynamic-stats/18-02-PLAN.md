---
phase: 18-dynamic-stats
plan: 02
type: execute
wave: 2
depends_on: ["18-01"]
files_modified: [src/components/admin/AboutEditor.jsx, src/pages/AboutPage.jsx]
autonomous: true
---

<objective>
Add stats fields to admin UI and display real stats on About page.

Purpose: Enable admin to manually enter/override stats and display real data on public About page.
Output: Extended AboutEditor with stats fields, AboutPage showing database stats.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-dynamic-stats/18-CONTEXT.md
@.planning/phases/18-dynamic-stats/18-01-SUMMARY.md

@src/components/admin/AboutEditor.jsx
@src/pages/AboutPage.jsx
@src/services/aboutService.js
@src/services/locationService.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add stats fields to AboutEditor admin component</name>
  <files>src/components/admin/AboutEditor.jsx</files>
  <action>
Extend AboutEditor to include stats fields in a new "Stats" section:

1. Add section after Social Links with heading "Statistics":
   - Location Count (number input, placeholder showing DB count)
   - Video Count (number input)
   - Country Count (number input, placeholder showing DB count)
   - Subscriber Count (number input, for YouTube subscribers)

2. Import fetchLocationCount and fetchCountryCount from locationService

3. On component mount, fetch DB counts to show as placeholder hints:
   - "DB shows: X locations" under Location Count field
   - "DB shows: X countries" under Country Count field

4. Update handleSave to include stat fields:
   - location_count, video_count, country_count, subscriber_count

5. Show stats_updated_at timestamp if available

Layout: 2x2 grid for the 4 stat inputs on larger screens. Use type="number" inputs with min="0".

Follow existing component patterns (handleChange, input styling).
  </action>
  <verify>npm run build succeeds</verify>
  <done>AboutEditor shows stats fields with DB count hints, saves stats to database</done>
</task>

<task type="auto">
  <name>Task 2: Update AboutPage to display real stats</name>
  <files>src/pages/AboutPage.jsx</files>
  <action>
Update About page stats section to show real data:

1. The content object from fetchAboutContent() already includes stats columns

2. Update the stats display section:
   - Location Count: Show content.location_count if set, otherwise "600+" as fallback
   - Country Count: Show content.country_count if set, otherwise "XX" placeholder
   - Video Count: Show content.video_count if set, otherwise "XX" placeholder

3. Format numbers nicely:
   - Use toLocaleString() for numbers over 999 (adds commas)
   - Keep "+" suffix for location count if desired

4. Keep existing styling and layout

The stats section already exists in AboutPage - just wire up the data instead of hardcoded values.
  </action>
  <verify>npm run build succeeds, About page shows stats from database</verify>
  <done>About page displays stats from database with fallbacks for missing values</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds without errors
- [ ] AboutEditor has Stats section with 4 number inputs
- [ ] AboutEditor shows DB count hints for locations and countries
- [ ] AboutEditor saves all stat fields
- [ ] AboutPage displays stats from content object
- [ ] AboutPage has sensible fallbacks for null stats
</verification>

<success_criteria>
- All tasks completed
- Admin can manually enter stats
- About page shows real stats from database
- Graceful fallbacks for missing data
</success_criteria>

<output>
After completion, create `.planning/phases/18-dynamic-stats/18-02-SUMMARY.md`
</output>
