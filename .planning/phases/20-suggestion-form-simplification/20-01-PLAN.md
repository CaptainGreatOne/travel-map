---
phase: 20-suggestion-form-simplification
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [src/components/SuggestForm.jsx, src/components/LocationPreview.jsx]
autonomous: true
---

<objective>
Simplify the suggestion form to require a Google Maps URL and remove the ability to manually name locations.

Purpose: Reduce spam by requiring verifiable Google Maps links, and ensure location names come from the URL parsing (not user input) for data consistency.
Output: Streamlined SuggestForm with required URL field, read-only location name display, and updated validation.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/components/SuggestForm.jsx
@src/components/LocationPreview.jsx
@src/utils/parseGoogleMapsUrl.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make Google Maps URL required and update validation</name>
  <files>src/components/SuggestForm.jsx</files>
  <action>
  1. Change the Google Maps URL label from "Google Maps Link (Optional)" to "Google Maps Link *"
  2. Add `required` attribute to the URL input field
  3. Update `validateForm()` to require googleMapsLink:
     - Add validation: if no googleMapsLink, set error "Google Maps link is required"
     - Add validation: if URL provided but previewData has no name extracted, set error "Could not extract location from URL. Please use a different Google Maps link."
  4. Remove the `|| null` fallback in handleSubmit - URL is now always required
  5. Update the helper text from "Paste a Google Maps share link and we'll auto-fill the location name" to "Paste a Google Maps share link to suggest a location"
  </action>
  <verify>Form shows validation error when submitted without URL. Form shows error when URL doesn't yield a location name.</verify>
  <done>Google Maps URL is required field with proper validation messaging</done>
</task>

<task type="auto">
  <name>Task 2: Remove editable Location Name field</name>
  <files>src/components/SuggestForm.jsx</files>
  <action>
  1. Remove the entire "Location Name" input section (the div containing the MapPin icon, label, input, and error display from lines 241-260)
  2. Remove `locationName` from state initialization - keep it but don't expose to user input
  3. Remove the onChange handler for locationName (but keep the state variable since it's used for submission and auto-fill from URL)
  4. Keep the auto-fill logic in handleGoogleMapsLinkChange that sets locationName from parsed URL
  5. The location name will now ONLY come from URL parsing, displayed in LocationPreview
  6. Remove locationName from validateForm() - validation is now implicitly handled by requiring a URL that yields a name
  </action>
  <verify>No Location Name input field visible. Location name still displays in LocationPreview when URL parsed. Form submits with name from URL only.</verify>
  <done>Location Name field removed, name comes exclusively from URL parsing</done>
</task>

<task type="auto">
  <name>Task 3: Update LocationPreview for required URL context</name>
  <files>src/components/LocationPreview.jsx</files>
  <action>
  1. Update the shortUrlFallback message: change "Enter the location name below to submit your suggestion" to "This short link cannot be expanded. Please copy a full Google Maps URL instead."
  2. Update the coords-only (no name) message: change "Tip: Enter a location name manually below" to "Location name not found. Please try a different Google Maps URL."
  3. These changes reflect that manual name entry is no longer possible
  </action>
  <verify>LocationPreview shows updated messages that guide users to provide a different URL rather than manual entry</verify>
  <done>LocationPreview messages updated for required URL workflow</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Form requires Google Maps URL (shows error if empty on submit)
- [ ] Form shows error if URL doesn't extract a location name
- [ ] Location Name input field is removed from form
- [ ] LocationPreview still displays extracted name, country, coordinates
- [ ] Form submission works with parsed data only
- [ ] npm run build succeeds
</verification>

<success_criteria>
- All tasks completed
- Google Maps URL is required field
- No manual location name input exists
- LocationPreview shows appropriate guidance for URL issues
- Form submits successfully with URL-parsed data
</success_criteria>

<output>
After completion, create `.planning/phases/20-suggestion-form-simplification/20-01-SUMMARY.md`
</output>
