---
phase: 07-testing-polish
plan: 01
type: tdd
wave: 1
depends_on: []
files_modified:
  - src/utils/validation.test.js
  - src/utils/validation.js
autonomous: true
---

<objective>
TDD for validation utility functions to establish test patterns and increase coverage.

Purpose: validation.js has 4 functions with clear input/output contracts - ideal TDD candidates. This establishes testing patterns for the codebase.
Output: Comprehensive test suite for validation utilities, potentially with minor improvements discovered through TDD.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
@./.claude/get-shit-done/references/tdd.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/utils/validation.js
@src/utils/parseGoogleMapsUrl.test.js
</context>

<feature>
  <name>Validation Utility Tests</name>
  <files>src/utils/validation.test.js, src/utils/validation.js</files>
  <behavior>
    **validateEmail:**
    - '' → { valid: false, message: 'Email is required' }
    - '   ' → { valid: false, message: 'Email is required' }
    - 'notanemail' → { valid: false, message: 'Please enter a valid email address' }
    - 'missing@domain' → { valid: false, message: 'Please enter a valid email address' }
    - 'user@example.com' → { valid: true }
    - ' user@example.com ' → { valid: true } (should trim)

    **validatePassword:**
    - '' → { valid: false, message: 'Password is required' }
    - null → { valid: false, message: 'Password is required' }
    - '12345' → { valid: false, message: 'Password must be at least 6 characters' }
    - '123456' → { valid: true }
    - '12', minLength=3 → { valid: false, message: 'Password must be at least 3 characters' }

    **validateRequired:**
    - '', 'Name' → { valid: false, message: 'Name is required' }
    - '   ', 'Email' → { valid: false, message: 'Email is required' }
    - 'value', 'Field' → { valid: true }

    **getUsernameFromEmail:**
    - null → 'user'
    - undefined → 'user'
    - 123 (not string) → 'user'
    - '' → 'user'
    - 'test@example.com' → 'test'
    - 'hello' (no @) → 'hello'
  </behavior>
  <implementation>
    Follow existing test patterns from parseGoogleMapsUrl.test.js:
    - Use describe blocks for each function
    - Use it() with descriptive names
    - Import functions from validation.js
    - Run with `npm test`
  </implementation>
</feature>

<verification>
`npm test` passes with all validation tests green
</verification>

<success_criteria>
- RED: Failing tests written, committed
- GREEN: All tests pass
- REFACTOR: Any cleanup if discovered (likely none needed)
- Minimum 15 test cases covering edge cases
</success_criteria>

<output>
After completion, create `.planning/phases/07-testing-polish/07-01-SUMMARY.md`
</output>
